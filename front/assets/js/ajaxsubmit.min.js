/*! com_bixmailing 23-11-2016 11:26:18 */
!function(a){"use strict";var b;jQuery&&UIkit&&(b=a(jQuery,UIkit)),"function"==typeof define&&define.amd&&define("uikit-bixajaxsubmit",["uikit"],function(){return b||a(jQuery,UIkit)})}(function(a,b){"use strict";return b.component("bixajaxsubmit",{defaults:{lang:{requestFail:"Fout in request"},spinSel:"button i"},boot:function(){b.ready(function(c){a("[data-bix-ajax-submit]",c).each(function(){var c=a(this);c.data("bixajaxsubmit")||b.bixajaxsubmit(c,b.Utils.options(c.attr("data-bix-ajax-submit")))})})},init:function(){var c=this;this.element.submit(function(d){c.validateForm()&&(c.startSpin(),a.ajax({type:"POST",dataType:"json",url:c.element.attr("action")+"&format=raw",data:c.element.serialize()}).done(function(a){a.success?c.onSuccess(a.result):c.onError(a.result)}).fail(function(){b.notify({message:c.options.lang.requestFail,status:"danger"})}).always(function(a){c.stopSpin(),a.messages&&b.bixTools.showNotifications(a.messages)})),d.preventDefault()})},startSpin:function(){this.element.find(this.options.spinSel).addClass("uk-icon-spinner uk-icon-spin")},stopSpin:function(){this.element.find(this.options.spinSel).removeClass("uk-icon-spinner uk-icon-spin")},validateForm:function(){return!0},onSuccess:function(a){},onError:function(a){}}),b.bixajaxsubmit});
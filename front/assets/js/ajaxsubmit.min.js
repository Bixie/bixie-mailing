/*! com_bixmailing 01-02-2015 19:03:21 */
(function(t){"use strict";var i;jQuery&&UIkit&&(i=t(jQuery,UIkit)),"function"==typeof define&&define.amd&&define("uikit-bixajaxsubmit",["uikit"],function(){return i||t(jQuery,UIkit)})})(function(t,i){"use strict";return i.component("bixajaxsubmit",{defaults:{lang:{requestFail:"Fout in request"},spinSel:"button i"},boot:function(){i.ready(function(e){t("[data-bix-ajax-submit]",e).each(function(){var e=t(this);e.data("bixajaxsubmit")||i.bixajaxsubmit(e,i.Utils.options(e.attr("data-bix-ajax-submit")))})})},init:function(){var e=this;this.element.submit(function(n){e.validateForm()&&(e.startSpin(),t.ajax({type:"POST",dataType:"json",url:e.element.attr("action")+"&format=raw",data:e.element.serialize()}).done(function(t){t.success?e.onSuccess(t.result):e.onError(t.result)}).fail(function(){i.notify({message:e.options.lang.requestFail,status:"danger"})}).always(function(t){e.stopSpin(),t.messages&&i.bixTools.showNotifications(t.messages)})),n.preventDefault()})},startSpin:function(){this.element.find(this.options.spinSel).addClass("uk-icon-spinner uk-icon-spin")},stopSpin:function(){this.element.find(this.options.spinSel).removeClass("uk-icon-spinner uk-icon-spin")},validateForm:function(){return!0},onSuccess:function(){},onError:function(){}}),i.bixajaxsubmit});